////////////////////////////////////////////////////////////////////////////////
//! \addtogroup gfx
//! @{
//
//! \file    gfx_devicecontext.c
//! \brief   Contains functionality to implement the device context oriented functions for the Graphics subsystem.
//! \version 1.0
//! \date    04-October 2019
//!
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Includes and external references
////////////////////////////////////////////////////////////////////////////////
#include "freertos_tetris.h"

//By default only foreground and background color
gfx_Color_t  DefaultPalette[2];   //!< Default palette.

////////////////////////////////////////////////////////////////////////////////
// To view the documentation for this function, refer to gfx.h.
////////////////////////////////////////////////////////////////////////////////
gfx_Color_t gfx_2d_SetDrawColor(gfx_DeviceContext_t *pDC, gfx_Color_t color)
{
    gfx_Color_t OldColor=pDC->pPalette[0];
    pDC->pPalette[0] = color;
    return OldColor;
}
////////////////////////////////////////////////////////////////////////////////
// To view the documentation for this function, refer to gfx.h.
////////////////////////////////////////////////////////////////////////////////
gfx_Color_t gfx_2d_SetBackgroundColor(gfx_DeviceContext_t *pDC, gfx_Color_t color)
{
    gfx_Color_t OldColor=pDC->pPalette[1];
    pDC->pPalette[1] = color;
    return OldColor;
}

////////////////////////////////////////////////////////////////////////////////
// To view the documentation for this function, refer to gfx.h.
////////////////////////////////////////////////////////////////////////////////
void gfx_org_Offset(gfx_DeviceContext_t *pDC, int x, int y)
{
    pDC->i16xOffset += x;
    pDC->i16yOffset += y;
}

////////////////////////////////////////////////////////////////////////////////
// To view the documentation for this function, refer to gfx.h.
////////////////////////////////////////////////////////////////////////////////
gfx_Color_t gfx_2d_GetSystemDrawColor(void)
{
    return DefaultPalette[0];
}

////////////////////////////////////////////////////////////////////////////////
// To view the documentation for this function, refer to gfx.h.
////////////////////////////////////////////////////////////////////////////////
gfx_Color_t gfx_2d_GetSystemBackgroundColor(void)
{
    return DefaultPalette[1];
}

////////////////////////////////////////////////////////////////////////////////
// To view the documentation for this function, refer to gfx.h.
////////////////////////////////////////////////////////////////////////////////
gfx_Color_t* gfx_2d_SetColorPalette(gfx_DeviceContext_t *pDC, gfx_Color_t *pPalette)
{
    gfx_Color_t *oldPalette = pDC->pPalette;
    pDC->pPalette = pPalette;
    return oldPalette;
}
////////////////////////////////////////////////////////////////////////////////
// End of file
////////////////////////////////////////////////////////////////////////////////
//! @}

